<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      metal:use-macro="api['master_edit.main']">

  <div metal:fill-slot="content">
    <h1>Add item</h1>

    <div class="form">
      <div metal:use-macro="api['snippets.messages']">
      </div>
      <form action="./add" method="post">
        <div id="what-to-add">
          <h2>What do you want to add?</h2>
          <ul>
            <li tal:repeat="type possible_types">
              <span tal:define="type_name type['factory'].type_info.name"
                    tal:omit-tag="">
                <input type="radio" name="what" value="${type_name}"
                       checked="${type == possible_types[0] and 'checked' or None}"
                       id="what-to-add-${type_name}" />
                <label for="what-to-add-${type_name}">
                  ${type_name}
                </label>
              </span>
            </li>
          </ul>
        </div>
        <div id="where-to-add">
          <h2>Where do you want to add it to?</h2>
          <ul>
            <li tal:repeat="parent possible_parents">
              <input type="radio" name="where" value="${parent['node'].id}"
                     checked="${parent == possible_parents[0] and 'checked' or None}"
                     id="where-to-add-${parent['node'].id}" />
              <label for="where-to-add-${parent['node'].id}">
                Inside <em>${parent['node'].title}</em>
              </label>
            </li>
          </ul>
        </div>

        <div>
          <input type="submit" value="Continue" />
        </div>
      </form>
    </div>
  </div>

</html>
